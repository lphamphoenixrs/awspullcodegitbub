(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[13],{

/***/ "0+XT":
/*!*********************************************!*\
  !*** ./src/services/CustomerViewService.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Libs = __webpack_require__(/*! ../utils/Libs */ \"aKSJ\");\n\nvar _Libs2 = _interopRequireDefault(_Libs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CustomerViewService = function () {\n    _createClass(CustomerViewService, null, [{\n        key: 'instance',\n        get: function get() {\n            if (!this._instance) {\n                this._instance = new CustomerViewService();\n            }\n            return this._instance;\n        }\n    }]);\n\n    function CustomerViewService() {\n        _classCallCheck(this, CustomerViewService);\n    }\n\n    /**\n    * Get all site by id_customer\n    * @author long.pham 2020-10-08\n    * @param {function (data,total_row,msg)} callBack \n    * @param {boolean} isShowProgress \n    */\n\n\n    _createClass(CustomerViewService, [{\n        key: 'getListSiteByCustomer',\n        value: function getListSiteByCustomer(objE, callBack) {\n            var isShowProgress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            try {\n                var http = new flHttp(isShowProgress);\n                http.post(Constants.URL.CUSTOMER_VIEW.LIST_SITE, objE, function (status, rs) {\n                    if (typeof callBack === 'function') {\n                        if (!status || !rs) {\n                            return;\n                        }\n                        var data = [];\n                        var total_row = 0;\n                        if (rs.status && Array.isArray(rs.data)) {\n                            data = rs.data;\n                            total_row = rs.total_row;\n                        }\n                        callBack(data, total_row, \"\");\n                    }\n                });\n            } catch (error) {\n                var msg = error;\n                callBack(false, 0, msg);\n            }\n        }\n\n        /**\n         * API get mini site information\n         * @author long.pham 2020-12-02\n         * @param {function(data)} callBack\n         * @param {int} id_customer, id_site\n         */\n\n    }, {\n        key: 'getCustomerViewInfo',\n        value: function getCustomerViewInfo(objE, callBack) {\n            var isShowProgress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            try {\n                var http = new flHttp(isShowProgress);\n                http.post(Constants.URL.CUSTOMER_VIEW.INFO, objE, function (status, rs) {\n                    if (typeof callBack === 'function') {\n                        if (!status || !rs) {\n                            //error http => lib http  proccess\n                            return;\n                        }\n                        var data = {};\n                        if (rs.status && _typeof(rs.data) === 'object') {\n                            data = rs.data;\n                        }\n                        callBack(data);\n                    }\n                });\n            } catch (error) {\n                callBack({});\n            }\n        }\n\n        /**\n         * API get chart mini site inverter performance\n         * @author long.pham 2020-11-02\n         * @param {function(data)} callBack\n         * @param {int} id_site \n         * @return Object\n         */\n\n    }, {\n        key: 'getDataChart',\n        value: function getDataChart(objE, callBack) {\n            var isShowProgress = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            try {\n                var http = new flHttp(isShowProgress);\n                http.post(Constants.URL.CUSTOMER_VIEW.CHART_DATA, objE, function (status, rs) {\n                    if (typeof callBack === 'function') {\n                        if (!status || !rs) {\n                            //error http => lib http  proccess\n                            return;\n                        }\n                        var data = {};\n                        if (rs.status && _typeof(rs.data) === 'object') {\n                            data = rs.data;\n                        }\n                        callBack(data);\n                    }\n                });\n            } catch (error) {\n                callBack({});\n            }\n        }\n    }]);\n\n    return CustomerViewService;\n}();\n\nexports.default = CustomerViewService;\n\n//# sourceURL=webpack:///./src/services/CustomerViewService.js?");

/***/ }),

/***/ "2cwB":
/*!***************************************************************!*\
  !*** ./src/ui/desktop/customerView/listSite/ListSitePopup.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _BaseComponent2 = __webpack_require__(/*! ../../../BaseComponent */ \"Kh+H\");\n\nvar _BaseComponent3 = _interopRequireDefault(_BaseComponent2);\n\nvar _ListSitePopup = __webpack_require__(/*! ./ListSitePopup.jsx */ \"ysJ3\");\n\nvar _ListSitePopup2 = _interopRequireDefault(_ListSitePopup);\n\nvar _Libs = __webpack_require__(/*! ../../../../utils/Libs */ \"aKSJ\");\n\nvar _Libs2 = _interopRequireDefault(_Libs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListSite = function (_BaseComponent) {\n    _inherits(ListSite, _BaseComponent);\n\n    function ListSite(props, context) {\n        _classCallCheck(this, ListSite);\n\n        var _this = _possibleConstructorReturn(this, (ListSite.__proto__ || Object.getPrototypeOf(ListSite)).call(this, props, context));\n\n        _this.onItemClickView = function (index) {\n            if (!_Libs2.default.isArrayData(_this.state.dataList)) return;\n            var item = _this.state.dataList[index];\n            _this.props.onCloseListSitePopup(item, index);\n            _this.setState({\n                curItem: item\n            });\n        };\n\n        _this.state = {\n            curItem: _this.props.curItem,\n            dataList: _this.props.dataList\n        };\n        _this.jsxTemplate = _ListSitePopup2.default;\n        return _this;\n    }\n\n    _createClass(ListSite, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            _get(ListSite.prototype.__proto__ || Object.getPrototypeOf(ListSite.prototype), 'componentDidMount', this).call(this);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return this.jsxTemplate.call(this);\n        }\n    }]);\n\n    return ListSite;\n}(_BaseComponent3.default);\n\nexports.default = ListSite;\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/listSite/ListSitePopup.js?");

/***/ }),

/***/ "5IUM":
/*!*****************************************************!*\
  !*** ./src/ui/desktop/customerView/CustomerView.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _react = __webpack_require__(/*! react */ \"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _CustomerView = __webpack_require__(/*! ./CustomerView.jsx */ \"AnAl\");\n\nvar _CustomerView2 = _interopRequireDefault(_CustomerView);\n\nvar _BaseComponent2 = __webpack_require__(/*! ../../BaseComponent */ \"Kh+H\");\n\nvar _BaseComponent3 = _interopRequireDefault(_BaseComponent2);\n\n__webpack_require__(/*! ./CustomerView.scss */ \"zQl+\");\n\nvar _CustomerViewService = __webpack_require__(/*! ../../../services/CustomerViewService */ \"0+XT\");\n\nvar _CustomerViewService2 = _interopRequireDefault(_CustomerViewService);\n\nvar _Libs = __webpack_require__(/*! ../../../utils/Libs */ \"aKSJ\");\n\nvar _Libs2 = _interopRequireDefault(_Libs);\n\nvar _moment = __webpack_require__(/*! moment */ \"wd/R\");\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Constants = __webpack_require__(/*! ../../../utils/Constants.js */ \"unnO\");\n\nvar _Constants2 = _interopRequireDefault(_Constants);\n\nvar _fileSaver = __webpack_require__(/*! file-saver */ \"Iab2\");\n\nvar FileSaver = _interopRequireWildcard(_fileSaver);\n\nvar _xlsx = __webpack_require__(/*! xlsx */ \"EUZL\");\n\nvar XLSX = _interopRequireWildcard(_xlsx);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar axios = __webpack_require__(/*! axios */ \"vDqi\");\n\nvar CustomerView = function (_BaseComponent) {\n  _inherits(CustomerView, _BaseComponent);\n\n  function CustomerView(props, context) {\n    _classCallCheck(this, CustomerView);\n\n    var _this = _possibleConstructorReturn(this, (CustomerView.__proto__ || Object.getPrototypeOf(CustomerView)).call(this, props, context));\n\n    _this.openListSitePopup = function () {\n      _this.setState({\n        showListSite: true\n      });\n    };\n\n    _this.onCloseListSitePopup = function (item, index) {\n      var self = _this;\n      var _this$state = _this.state,\n          curItem = _this$state.curItem,\n          dataListSite = _this$state.dataListSite;\n\n      if (typeof index === \"undefined\") {\n        _this.setState({\n          showListSite: false\n        });\n      } else {\n        var findItem = dataListSite[index];\n        if (_Libs2.default.isObjectEmpty(findItem)) return;\n        curItem = Object.assign({}, curItem, findItem);\n        self.setState({\n          curItem: curItem,\n          showListSite: false\n        }, function () {\n          self.getCustomerViewInfo();\n          self.getDataChart();\n        });\n      }\n    };\n\n    _this.handleClickOutside = function (event) {\n      var target = event.target;\n      var chartParams = _this.state.chartParams,\n          self = _this;\n      if (!_this.wrapperRef.current.contains(target)) {\n        if (chartParams.show_filter) {\n          chartParams.show_filter = false;\n          self.setState({\n            chartParams: chartParams\n          });\n        }\n      }\n    };\n\n    _this.onClickShowFilter = function () {\n      var chartParams = _this.state.chartParams;\n\n      chartParams.show_filter = true;\n      _this.setState({\n        chartParams: chartParams\n      });\n    };\n\n    _this.onClickFilter = function (value) {\n      var _this$state2 = _this.state,\n          chartParams = _this$state2.chartParams,\n          dataFilter = _this$state2.dataFilter,\n          curItem = _this$state2.curItem;\n\n      var self = _this;\n      if (!_Libs2.default.isArrayData(dataFilter)) return;\n      var item = _Libs2.default.find(dataFilter, 'id', value);\n      if (_Libs2.default.isObjectEmpty(item)) return;\n\n      chartParams.id_filter = item.id;\n      chartParams.text_filter = item.text;\n      chartParams.show_filter = false;\n      chartParams.showNextBtn = false;\n\n      switch (value) {\n        case 'today':\n          chartParams.start_date = _Libs2.default.getCurrentMMDDYYYYHI();\n          chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n          break;\n        case 'lifetime':\n          chartParams.start_date = (0, _moment2.default)(curItem.commissioning).format('MM/DD/YYYY HH:mm:ss');\n          chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n          break;\n        case 'this_month':\n          chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n          var t = new Date(chartParams.end_date);\n          var y = t.getFullYear(),\n              m = t.getMonth();\n          chartParams.start_date = (0, _moment2.default)(new Date(y, m, 1)).format('MM/DD/YYYY HH:mm');\n          break;\n        case 'last_month':\n          var tlast = new Date(_Libs2.default.getCurrentMMDDYYYYHI());\n          var ylast = tlast.getFullYear(),\n              mlast = tlast.getMonth();\n          chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ylast, mlast, 1), -1)).endOf('month').format('MM/DD/YYYY HH:mm');\n          chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ylast, mlast, 1), -1)).format('MM/DD/YYYY HH:mm');\n          break;\n\n        case '12_month':\n          chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(_Libs2.default.getCurrentMMDDYYYYHI(), -12)).format('MM/DD/YYYY HH:mm:ss');\n          chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n          break;\n      }\n\n      _this.setState({\n        chartParams: chartParams\n      }, function () {\n        self.getDataChart();\n      });\n    };\n\n    _this.jsxTemplate = _CustomerView2.default;\n    _this.state = {\n      curItem: {},\n      dataListSite: [],\n      dataExport: [],\n      weather: {},\n      dataFilter: [{ id: \"today\", text: \"Today\" }, { id: \"this_month\", text: \"This month\" }, { id: \"last_month\", text: \"Last month\" }, { id: \"12_month\", text: \"Last 12 months\" }, { id: \"lifetime\", text: \"Lifetime\" }],\n\n      chartParams: {\n        id_site: null,\n        id_filter: 'today',\n        text_filter: 'Today',\n        show_filter: false,\n        showNextBtn: false,\n        current_time: _Libs2.default.getCurrentMMDDYYYYHI(),\n        end_date: _Libs2.default.getCurrentMMDDYYYYHI(),\n        start_date: _Libs2.default.getCurrentMMDDYYYYHI()\n      },\n      showListSite: false\n    };\n    _this.wrapperRef = _react2.default.createRef();\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(CustomerView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _get(CustomerView.prototype.__proto__ || Object.getPrototypeOf(CustomerView.prototype), 'componentDidMount', this).call(this);\n      this.getListSiteByCustomer();\n      var self = this;\n      console.log(\"2021-03-14 02:05:00: \", _Libs2.default.getOffsetTimeZone('2021-03-14 02:05:00'));\n      console.log(\"2021-03-14 01:55:00: \", _Libs2.default.getOffsetTimeZone('2021-03-14 01:55:00'));\n\n      console.log(\"2021-03-14 02:00:00: \", _Libs2.default.getOffsetTimeZone('2021-03-14 02:00:00'));\n      console.log(\"2021-03-14 02:05:00: \", _Libs2.default.getOffsetTimeZone('2021-03-14 02:05:00'));\n\n      document.addEventListener('click', this.handleClickOutside);\n      setInterval(function () {\n        self.getDataChart();\n      }, 5 * 60 * 1000);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClickOutside);\n    }\n\n    /**\n     * @description Open popup list site\n     * @author long.pham 2020-12-08\n     */\n\n\n    /**\n     * @description Close popup list site\n     * @author long.pham 2020-12-08\n     */\n\n  }, {\n    key: 'getListSiteByCustomer',\n\n\n    /**\n     * Get all site by customer\n     * @author long.pham 2020-12-08\n     * @param id_customer\n     */\n    value: function getListSiteByCustomer() {\n      var self = this,\n          curItem = this.state.curItem,\n          params = {\n        id_customer: !_Libs2.default.isBlank(this.user) ? this.user.id_user : null\n      };\n      _CustomerViewService2.default.instance.getListSiteByCustomer(params, function (data, total_row) {\n        if (_Libs2.default.isArrayData(data)) {\n          var findItem = _Libs2.default.find(data, 'site_default', true);\n          if (!_Libs2.default.isObjectEmpty(findItem)) {\n            curItem = Object.assign(curItem, findItem);\n          } else {\n            if (!_Libs2.default.isObjectEmpty(data[0]) && !_Libs2.default.isBlank(data[0].id)) {\n              curItem = Object.assign(curItem, data[0]);\n            } else {\n              curItem = {};\n            }\n          }\n\n          self.setState({ dataListSite: data, curItem: curItem }, function () {\n            self.getCustomerViewInfo();\n          });\n        } else {\n          curItem = {};\n          self.setState({ dataListSite: [], curItem: curItem });\n        }\n      });\n    }\n\n    /**\n     * Get weather by location\n     * @author long.pham 2020-12-08\n     * @param {city name},{state code}, {API key} \n     * @return Object\n     */\n\n  }, {\n    key: 'getLocationWeather',\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(lat, lon) {\n        var URL, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                URL = 'https://api.openweathermap.org/data/2.5/weather?lat=' + lat + '&lon=' + lon + '&appid=' + _Constants2.default.WEATHER_API.KEY + '&units=imperial';\n                _context.next = 4;\n                return axios.get(URL);\n\n              case 4:\n                response = _context.sent;\n\n                if (!(response.status === 200)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt('return', { success: true, data: response.data });\n\n              case 7:\n                return _context.abrupt('return', { success: false, error: response.statusText });\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context['catch'](0);\n                return _context.abrupt('return', { success: false, error: _context.t0.message });\n\n              case 13:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n\n      function getLocationWeather(_x, _x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return getLocationWeather;\n    }()\n  }, {\n    key: 'getCustomerViewInfo',\n\n    /**\n     * Get detail site\n     * @author long.pham 2020-12-02\n     * @param id_site, id_customer\n     * @return Object\n     */\n    value: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var self, curItem, params, weather;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                self = this, curItem = this.state.curItem;\n\n                curItem.current_time = _Libs2.default.getCurrentMMDDYYYYHI();\n                // curItem.current_time = '2021-01-16 14:26:00';\n                curItem.generation_total = 0;\n                curItem.lastUpdated = null;\n\n                params = {\n                  format_sql_long: _Constants2.default.DATE_FORMAT.format_sql_long,\n                  format_sql_short: _Constants2.default.DATE_FORMAT.format_sql_short,\n                  format_sql_string_long: _Constants2.default.DATE_FORMAT.format_sql_string_long,\n                  format_sql_string_short: _Constants2.default.DATE_FORMAT.format_sql_string_short,\n                  format_sql_string_mdy: _Constants2.default.DATE_FORMAT.format_sql_string_mdy,\n                  current_time: _Libs2.default.convertAllFormatDate(curItem.current_time),\n                  offset_timezone: _Libs2.default.getOffsetTimeZone(curItem.current_time),\n                  id_site: curItem.id,\n                  id_customer: !_Libs2.default.isBlank(this.user) ? this.user.id_user : null,\n                  id_site_type: curItem.id_site_type\n                };\n\n\n                _CustomerViewService2.default.instance.getCustomerViewInfo(params, function (data) {\n                  if (data) {\n                    curItem = Object.assign({}, curItem, data);\n                    self.setState({\n                      curItem: curItem\n                    }, function () {\n                      self.getDataChart();\n                    });\n                  }\n                });\n\n                if (!(!_Libs2.default.isBlank(curItem.lat) && !_Libs2.default.isBlank(curItem.lng))) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 9;\n                return this.getLocationWeather(curItem.lat, curItem.lng);\n\n              case 9:\n                weather = _context2.sent;\n\n                if (weather.success) {\n                  self.setState({\n                    weather: weather.data\n                  });\n                } else {\n                  self.setState({\n                    weather: {}\n                  });\n                }\n\n              case 11:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getCustomerViewInfo() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getCustomerViewInfo;\n    }()\n  }, {\n    key: 'onClickNext',\n    value: function onClickNext() {\n      var chartParams = this.state.chartParams,\n          self = this;\n      var showNextBtn = chartParams.showNextBtn;\n      var compareDate = _Libs2.default.compareDate(_Libs2.default.addDays(chartParams.end_date, 1), 'MM/DD/YYYY', chartParams.current_time);\n      switch (chartParams.id_filter) {\n        case 'today':\n          if (compareDate >= 0) {\n            showNextBtn = false;\n            chartParams.end_date = _Libs2.default.addDays(chartParams.end_date, 1);\n            chartParams.start_date = chartParams.end_date;\n          } else {\n            chartParams.end_date = _Libs2.default.addDays(chartParams.end_date, 1);\n            chartParams.start_date = chartParams.end_date;\n            showNextBtn = true;\n          }\n          break;\n\n        case 'this_month':\n          var tcurrent = new Date(chartParams.end_date);\n          var ycurrent = tcurrent.getFullYear(),\n              mcurrent = tcurrent.getMonth();\n          if (compareDate > 0) {\n            showNextBtn = false;\n            chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n            chartParams.start_date = (0, _moment2.default)(new Date(ycurrent, mcurrent, 1)).format('MM/DD/YYYY HH:mm');\n          } else {\n            chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ycurrent, mcurrent, 1), 1)).endOf('month').format('MM/DD/YYYY HH:mm');\n            chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ycurrent, mcurrent, 1), 1)).format('MM/DD/YYYY HH:mm');\n            showNextBtn = true;\n          }\n\n          break;\n\n        case 'last_month':\n          var tc = new Date(_Libs2.default.getCurrentMMDDYYYYHI());\n          var yc = tc.getFullYear(),\n              mc = tc.getMonth();\n\n          if ((0, _moment2.default)(chartParams.current_time).format('MM/YYYY') == (0, _moment2.default)(chartParams.end_date).format('MM/YYYY')) {\n            showNextBtn = false;\n            chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(yc, mc, 1), -1)).endOf('month').format('MM/DD/YYYY HH:mm');\n            chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(yc, mc, 1), -1)).format('MM/DD/YYYY HH:mm');\n          } else {\n            var tlast = new Date(chartParams.end_date);\n            var ylast = tlast.getFullYear(),\n                mlast = tlast.getMonth();\n            chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ylast, mlast, 1), 1)).endOf('month').format('MM/DD/YYYY HH:mm');\n            chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ylast, mlast, 1), 1)).format('MM/DD/YYYY HH:mm');\n            showNextBtn = true;\n          }\n\n          break;\n\n        case '12_month':\n          var tstart = new Date(chartParams.end_date);\n          var ystart = tstart.getFullYear(),\n              mstart = tstart.getMonth();\n          var compareEndDate = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ystart, mstart, 1), 12)).format('YYYY');\n          if ((0, _moment2.default)(chartParams.current_time).format('YYYY') <= compareEndDate) {\n            chartParams.end_date = _Libs2.default.getCurrentMMDDYYYYHI();\n\n            var tn = new Date(chartParams.end_date);\n            var yn = tn.getFullYear(),\n                mn = tn.getMonth();\n            chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(yn, mn, 1), -12)).format('MM/DD/YYYY HH:mm');\n            showNextBtn = false;\n          } else {\n            var te = new Date(chartParams.end_date);\n            var ye = te.getFullYear(),\n                me = te.getMonth();\n            chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ye, me, 1), 12)).endOf('month').format('MM/DD/YYYY HH:mm');\n            var ts = new Date(chartParams.start_date);\n            var ys = ts.getFullYear(),\n                ms = ts.getMonth();\n            chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ys, ms, 1), 12)).format('MM/DD/YYYY HH:mm');\n            showNextBtn = true;\n          }\n\n          break;\n      }\n      chartParams.showNextBtn = showNextBtn;\n      this.setState({\n        chartParams: chartParams\n      }, function () {\n        self.getDataChart();\n      });\n    }\n  }, {\n    key: 'onClickPrev',\n    value: function onClickPrev() {\n      var self = this;\n      var chartParams = this.state.chartParams;\n\n      chartParams.showNextBtn = true;\n      var t = new Date(chartParams.end_date);\n      var y = t.getFullYear(),\n          m = t.getMonth();\n      switch (chartParams.id_filter) {\n        case 'today':\n          chartParams.end_date = (0, _moment2.default)(_Libs2.default.addDays(chartParams.end_date, -1)).format('MM/DD/YYYY HH:mm:ss');\n          chartParams.start_date = chartParams.end_date;\n          break;\n        case 'last_month':\n        case 'this_month':\n          chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(y, m, 1), -1)).endOf('month').format('MM/DD/YYYY HH:mm');\n          chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(y, m, 1), -1)).format('MM/DD/YYYY HH:mm');\n          break;\n        case '12_month':\n          chartParams.end_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(y, m, 1), -12)).endOf('month').format('MM/DD/YYYY HH:mm');\n          var tstart = new Date(chartParams.start_date);\n          var ystart = tstart.getFullYear(),\n              mstart = tstart.getMonth();\n          chartParams.start_date = (0, _moment2.default)(_Libs2.default.addMonths(new Date(ystart, mstart, 1), -12)).format('MM/DD/YYYY HH:mm');\n          break;\n      }\n      this.setState({\n        chartParams: chartParams\n      }, function () {\n        self.getDataChart();\n      });\n    }\n\n    /**\n     * Get chart data\n     * @author long.pham 2020-12-03\n     * @param id_site, id_customer\n     * @return Object\n     */\n\n  }, {\n    key: 'getDataChart',\n    value: function getDataChart() {\n      var _state = this.state,\n          chartParams = _state.chartParams,\n          curItem = _state.curItem,\n          self = this;\n\n      var lastUpdated = null;\n      if (_Libs2.default.isObjectEmpty(chartParams)) return;\n\n      var params = {};\n      params.start_date = _Libs2.default.convertAllFormatDate(_Libs2.default.dateFormat(chartParams.start_date, \"MM/DD/YYYY\", \"MM/DD/YYYY\") + \" 00:00:00\");\n      if (_Libs2.default.dateFormat(chartParams.current_time, \"MM/DD/YYYY\", \"MM/DD/YYYY\") == _Libs2.default.dateFormat(chartParams.end_date, \"MM/DD/YYYY\", \"MM/DD/YYYY\")) {\n        params.end_date = _Libs2.default.convertAllFormatDate(chartParams.end_date); // '2020-11-01 23:59:59';\n      } else {\n        params.end_date = _Libs2.default.convertAllFormatDate(_Libs2.default.dateFormat(chartParams.end_date, \"MM/DD/YYYY\", \"MM/DD/YYYY\") + \" 23:59:59\");\n      }\n\n      // params.start_date = '2020-12-17 00:00:00';\n      // params.end_date = '2020-12-17 23:59:59';\n      params.id_site = curItem.id;\n      params.id_customer = !_Libs2.default.isBlank(this.user) ? this.user.id_user : null;\n      params.offset_timezone = _Libs2.default.getOffsetTimeZone(chartParams.end_date);\n      // params.offset_timezone = '-08:00';\n      params.filterBy = chartParams.id_filter;\n      params.format_sql_long = _Constants2.default.DATE_FORMAT.format_sql_long;\n      params.id_site_type = curItem.id_site_type;\n      // Use only for lifetime\n      params.typeView = (0, _moment2.default)(curItem.commissioning).format('YYYY') - (0, _moment2.default)(chartParams.end_date).format('YYYY') > 3 ? null : 'month';\n\n      _CustomerViewService2.default.instance.getDataChart(params, function (data) {\n        if (!_Libs2.default.isObjectEmpty(data)) {\n          var dataListEnergy = data.energy;\n          var dataIrradiance = [],\n              dataEnergy = [],\n              categories = [],\n              dataExport = [];\n          var generationTotal = 0;\n          if (_Libs2.default.isArrayData(dataListEnergy)) {\n            for (var k = 0; k < dataListEnergy.length; k++) {\n              categories.push([dataListEnergy[k].convert_time]);\n              if (chartParams.id_filter == 'today' && k == dataListEnergy.length - 1 && (0, _moment2.default)(curItem.current_time).format('MM/DD/YYYY') == (0, _moment2.default)(params.end_date).format('MM/DD/YYYY')) {\n                dataEnergy.push([dataListEnergy[k].full_time, Math.round(curItem.energy_today - generationTotal)]);\n                generationTotal = generationTotal + (curItem.energy_today - generationTotal);\n              } else {\n                generationTotal = generationTotal + dataListEnergy[k].energy_kwh;\n                dataEnergy.push([dataListEnergy[k].full_time, dataListEnergy[k].energy_kwh]);\n              }\n\n              dataIrradiance.push([dataListEnergy[k].full_time, dataListEnergy[k].avg_sensor1_data]);\n              lastUpdated = dataListEnergy[k].last_updated;\n\n              // Generation data export to xlsx\n              var itemDataExport = { \"DateTime\": dataListEnergy[k].download_time, \"Energy Output (kW)\": dataListEnergy[k].energy_kwh, \"Measured Irradiance (w/m2)\": dataListEnergy[k].avg_sensor1_data };\n              dataExport.push(itemDataExport);\n            }\n          }\n\n          if (chartParams.id_filter == 'today' && dataEnergy.length < 24) {\n            for (var v = dataEnergy.length; v < 24; v++) {\n              if (v <= 11) {\n                categories.push([v + \"AM\"]);\n                dataEnergy.push([v + \"AM\", 0]);\n                dataIrradiance.push([v + \"AM\", 0]);\n              } else {\n                var pm = null;\n                if (v < 12) {\n                  pm = v;\n                } else if (v == 12) {\n                  pm = v;\n                } else {\n                  pm = v - 12;\n                }\n                categories.push([pm + \"PM\"]);\n                dataEnergy.push([pm + \"PM\", 0]);\n                dataIrradiance.push([pm + \"PM\", 0]);\n              }\n            }\n          }\n          curItem.generation_total = generationTotal;\n          curItem.lastUpdated = lastUpdated;\n          self.setState({\n            dataCategories: categories,\n            dataEnergy: dataEnergy,\n            dataIrradiance: dataIrradiance,\n            curItem: curItem,\n            dataExport: dataExport\n          }, function () {\n            self.loadChartOption();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loadChartOption',\n    value: function loadChartOption() {\n      var chartOption = {\n        credits: { enabled: false },\n        exporting: { enabled: true },\n        title: { text: null },\n\n        chart: {\n          height: window.innerWidth <= 1024 ? 300 : null\n        },\n        legend: {\n          layout: 'horizontal',\n          align: 'center',\n          verticalAlign: 'bottom',\n          borderWidth: 0,\n          showInLegend: false\n        },\n        colors: ['#82cdff', '#f2ae1b'],\n        xAxis: [{\n          title: { text: \"Energy Output\", enabled: false },\n          alignTicks: false,\n          gridLineWidth: 1,\n          categories: this.state.dataCategories\n        }, {\n          title: { text: 'Data', enabled: false },\n          tickInterval: 8,\n          opposite: true,\n          visible: false\n        }],\n\n        yAxis: [{\n          min: 0,\n          title: {\n            text: 'kW',\n            enabled: true\n          },\n          lineWidth: 1,\n          gridLineWidth: 1,\n          labels: {\n            enabled: true\n          }\n        }, {\n          title: { text: 'Watts/meter²', enabled: false },\n          lineWidth: 1,\n          opposite: true,\n          gridLineWidth: 1,\n          labels: {\n            enabled: false\n          }\n        }],\n\n        plotOptions: {\n          plotOptions: {\n            series: {\n              marker: {\n                enabled: true\n              }\n            }\n          }\n        },\n\n        tooltip: {\n          shared: false,\n          crosshairs: true\n        },\n        series: [{\n          name: \"Energy Output\",\n          type: 'column',\n          tooltip: {\n            valueSuffix: ' kW'\n          },\n          data: this.state.dataEnergy,\n          zIndex: -1\n        }, {\n          name: 'Irradiance',\n          type: 'spline',\n          xAxis: 1,\n          yAxis: 1,\n          lineWidth: 3,\n          tooltip: {\n            valueSuffix: ' W/m²'\n          },\n          data: this.state.dataIrradiance,\n          id: 's1',\n          marker: {\n            radius: 1.5\n          }\n        }]\n      };\n\n      this.setState({ chartOption: chartOption });\n    }\n  }, {\n    key: 'exportToCSV',\n    value: function exportToCSV() {\n      var dataExport = this.state.dataExport;\n\n      if (_Libs2.default.isArrayData(dataExport)) {\n        var fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n        var fileExtension = '.xlsx';\n        var Heading = [\"DateTime\", \"Energy Output (kW)\", 'Measured Irradiance (w/m2)'];\n        var ws = XLSX.utils.json_to_sheet(dataExport, { header: Heading, skipHeader: false });\n        var wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n        var excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n        var data = new Blob([excelBuffer], { type: fileType });\n        FileSaver.saveAs(data, \"export-generation-\" + (0, _moment2.default)().format('YYYY-MM-DD_hh:mm:ss') + fileExtension);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.jsxTemplate.call(this);\n    }\n  }]);\n\n  return CustomerView;\n}(_BaseComponent3.default);\n\nexports.default = CustomerView;\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/CustomerView.js?");

/***/ }),

/***/ "AnAl":
/*!******************************************************!*\
  !*** ./src/ui/desktop/customerView/CustomerView.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function () {\n  var _this = this;\n\n  var _state = this.state,\n      curItem = _state.curItem,\n      dataFilter = _state.dataFilter,\n      chartParams = _state.chartParams,\n      chartOption = _state.chartOption,\n      weather = _state.weather,\n      dataListSite = _state.dataListSite;\n\n\n  var itemFilters = null;\n  if (_Libs2.default.isArrayData(dataFilter)) {\n    itemFilters = dataFilter.map(function (item, index) {\n      return _react2.default.createElement(\n        'a',\n        { onClick: _this.onClickFilter.bind(_this, item.id), className: item.id == chartParams.id_filter ? \"item active\" : \"item\" },\n        item.text\n      );\n    });\n  }\n\n  var itemTimes = null;\n  if (!_Libs2.default.isObjectEmpty(chartParams)) {\n    switch (chartParams.id_filter) {\n      case 'today':\n        itemTimes = _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement('span', { onClick: this.onClickPrev.bind(this), className: 'icon icon-left-arrow-1' }),\n          _react2.default.createElement(\n            'label',\n            { className: 'start-date' },\n            moment(chartParams.end_date).format('ll')\n          ),\n          _react2.default.createElement('span', { onClick: chartParams.showNextBtn ? this.onClickNext.bind(this) : null, className: !chartParams.showNextBtn ? \"icon icon-right-arrow-1 disabled\" : \"icon icon-right-arrow-1\" })\n        );\n        break;\n      case '12_month':\n      case 'last_month':\n      case 'this_month':\n        itemTimes = _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement('span', { onClick: this.onClickPrev.bind(this), className: 'icon icon-left-arrow-1' }),\n          _react2.default.createElement(\n            'label',\n            { className: 'start-date' },\n            moment(chartParams.start_date).format('ll')\n          ),\n          _react2.default.createElement(\n            'label',\n            { className: 'pad-line' },\n            '-'\n          ),\n          _react2.default.createElement(\n            'label',\n            { className: 'start-date' },\n            moment(chartParams.end_date).format('ll')\n          ),\n          _react2.default.createElement('span', { onClick: chartParams.showNextBtn ? this.onClickNext.bind(this) : null, className: !chartParams.showNextBtn ? \"icon icon-right-arrow-1 disabled\" : \"icon icon-right-arrow-1\" })\n        );\n        break;\n\n      case 'lifetime':\n        itemTimes = _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement('span', { className: 'icon icon-left-arrow-1 disabled' }),\n          _react2.default.createElement(\n            'label',\n            { className: 'start-date' },\n            moment(chartParams.start_date).format('ll')\n          ),\n          _react2.default.createElement(\n            'label',\n            { className: 'pad-line' },\n            '-'\n          ),\n          _react2.default.createElement(\n            'label',\n            { className: 'start-date' },\n            moment(chartParams.end_date).format('ll')\n          ),\n          _react2.default.createElement('span', { className: 'icon icon-right-arrow-1 disabled' })\n        );\n        break;\n    }\n  }\n\n  var energyCompare = null;\n  if (!_Libs2.default.isObjectEmpty(curItem) && !_Libs2.default.isBlank(curItem.compare_energy_today)) {\n    if (!_Libs2.default.isBlank(curItem.compare_energy_today) && curItem.compare_energy_today > 0) {\n      energyCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-up' },\n        _react2.default.createElement('label', { className: 'icon icon-line-up' }),\n        ' ',\n        _react2.default.createElement(\n          'var',\n          null,\n          curItem.compare_energy_today,\n          '% '\n        ),\n        ' Up from yesterday'\n      );\n    } else if (!_Libs2.default.isBlank(curItem.compare_energy_today) && curItem.compare_energy_today < 0) {\n      energyCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-down' },\n        _react2.default.createElement('label', { className: 'icon icon-line-down' }),\n        ' ',\n        _react2.default.createElement(\n          'var',\n          null,\n          curItem.compare_energy_today * -1,\n          '% '\n        ),\n        ' Down from yesterday'\n      );\n    } else {\n      energyCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-equal' },\n        _react2.default.createElement('label', { className: 'icon icon-double-arrow' }),\n        ' Equal to yesterday'\n      );\n    }\n  }\n\n  var powerCompare = null;\n  if (!_Libs2.default.isObjectEmpty(curItem) && !_Libs2.default.isBlank(curItem.compare_power_today)) {\n    var comparePowerToday = curItem.compare_power_today;\n    if (!_Libs2.default.isBlank(curItem.compare_power_today) && curItem.compare_power_today > 0) {\n      powerCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-up' },\n        _react2.default.createElement('label', { className: 'icon icon-line-up' }),\n        ' ',\n        _react2.default.createElement(\n          'var',\n          null,\n          comparePowerToday,\n          '% '\n        ),\n        ' Up from yesterday'\n      );\n    } else if (!_Libs2.default.isBlank(curItem.compare_power_today) && curItem.compare_power_today < 0) {\n      powerCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-down' },\n        _react2.default.createElement('label', { className: 'icon icon-line-down' }),\n        ' ',\n        _react2.default.createElement(\n          'var',\n          null,\n          comparePowerToday * -1,\n          '% '\n        ),\n        ' Down from yesterday'\n      );\n    } else {\n      powerCompare = _react2.default.createElement(\n        'span',\n        { className: 'compare-equal' },\n        _react2.default.createElement('label', { className: 'icon icon-double-arrow' }),\n        ' Equal to yesterday'\n      );\n    }\n  }\n\n  var ListSitePopupLayout = this.state.showListSite ? _react2.default.createElement(_ListSitePopup2.default, { onCloseListSitePopup: this.onCloseListSitePopup.bind(this), curItem: curItem, dataList: dataListSite\n  }) : '';\n\n  var energyLifetime = null;\n  if (_Libs2.default.isBlank(curItem.energy_lifetime) || curItem.energy_lifetime <= 0) {\n    energyLifetime = _react2.default.createElement(\n      'p',\n      { className: 'content' },\n      _react2.default.createElement(\n        'span',\n        { className: 'value' },\n        '0 '\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'unit' },\n        'kWh'\n      )\n    );\n  } else if (curItem.energy_lifetime >= 1000000) {\n    energyLifetime = _react2.default.createElement(\n      'p',\n      { className: 'content' },\n      _react2.default.createElement(\n        'span',\n        { className: 'value' },\n        Number.parseFloat(curItem.energy_lifetime / 1000000).toFixed(3),\n        ' '\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'unit' },\n        'GWh'\n      )\n    );\n  } else if (curItem.energy_lifetime >= 1000 && curItem.energy_lifetime < 1000000) {\n    energyLifetime = _react2.default.createElement(\n      'p',\n      { className: 'content' },\n      _react2.default.createElement(\n        'span',\n        { className: 'value' },\n        Number.parseFloat(curItem.energy_lifetime / 1000).toFixed(3),\n        ' '\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'unit' },\n        'MWh'\n      )\n    );\n  } else {\n    energyLifetime = _react2.default.createElement(\n      'p',\n      { className: 'content' },\n      _react2.default.createElement(\n        'span',\n        { className: 'value' },\n        Number.parseFloat(curItem.energy_lifetime).toFixed(2),\n        ' '\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'unit' },\n        'kWh'\n      )\n    );\n  }\n\n  return _react2.default.createElement(\n    'section',\n    { className: 'customer-view' },\n    ListSitePopupLayout,\n    _react2.default.createElement(\n      'div',\n      { className: 'container-fluid' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-xl-12 col-lg-12 col-md-12 text-right' },\n          !_Libs2.default.isBlank(curItem.name) ? _react2.default.createElement(\n            'h1',\n            { onClick: this.openListSitePopup.bind(this), className: 'title' },\n            'Site: ',\n            curItem.name,\n            _Libs2.default.isArrayData(dataListSite) && dataListSite.length > 1 ? _react2.default.createElement('span', { className: 'icon icon-menu' }) : \"\"\n          ) : \"\"\n        )\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'customer-view-main' },\n      _react2.default.createElement(\n        'div',\n        { className: 'container-fluid' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xl-9 col-lg-9 col-md-9' },\n            _react2.default.createElement(\n              'div',\n              { className: 'summary' },\n              _react2.default.createElement(\n                'ul',\n                { className: 'row' },\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-4 col-lg-4 col-md-4' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item energy' },\n                    _react2.default.createElement(\n                      'h2',\n                      { className: 'title' },\n                      'Energy today'\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'content' },\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'value' },\n                        !_Libs2.default.isBlank(curItem.energy_today) ? curItem.energy_today : 0\n                      ),\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'unit' },\n                        'kWh'\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'range' },\n                      energyCompare\n                    ),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'icon-nt' },\n                      _react2.default.createElement('img', { src: '/assets/images/energy.png' })\n                    )\n                  )\n                ),\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-4 col-lg-4 col-md-4' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item power' },\n                    _react2.default.createElement(\n                      'h2',\n                      { className: 'title' },\n                      'Peak Power'\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'content' },\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'value' },\n                        curItem.ac_power_today ? curItem.ac_power_today : 0\n                      ),\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'unit' },\n                        'kW'\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'range' },\n                      powerCompare\n                    ),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'icon-nt' },\n                      _react2.default.createElement('img', { src: '/assets/images/power.png' })\n                    )\n                  )\n                ),\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-4 col-lg-4 col-md-4' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item irradiance' },\n                    _react2.default.createElement(\n                      'h2',\n                      { className: 'title' },\n                      'Energy Lifetime'\n                    ),\n                    energyLifetime,\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'icon-nt' },\n                      _react2.default.createElement('img', { src: '/assets/images/irradiance.png' })\n                    )\n                  )\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'view-chart' },\n              _react2.default.createElement(\n                'div',\n                { className: 'title' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'row' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'col-xl-6 col-lg-6 col-md-6' },\n                    _react2.default.createElement(\n                      'h2',\n                      null,\n                      _react2.default.createElement(\n                        'p',\n                        { onClick: this.exportToCSV.bind(this) },\n                        _react2.default.createElement('span', { className: 'icon icon-direct-download' }),\n                        ' Generation (',\n                        !_Libs2.default.isBlank(curItem.generation_total) && curItem.generation_total > 0 ? _Libs2.default.formatElectricalPowerUnit(curItem.generation_total, 'h') : \"0 kWh\",\n                        ')'\n                      )\n                    )\n                  ),\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'col-xl-6 col-lg-6 col-md-6' },\n                    _react2.default.createElement(\n                      'div',\n                      { ref: this.wrapperRef, className: chartParams.show_filter ? \"filter on\" : \"filter\" },\n                      _react2.default.createElement(\n                        'a',\n                        { onClick: this.onClickShowFilter.bind(this), className: 'view' },\n                        chartParams.text_filter,\n                        ' ',\n                        _react2.default.createElement('span', { className: 'icon icon-down-arrow' })\n                      ),\n                      _react2.default.createElement(\n                        'div',\n                        { className: 'filter-dropdown' },\n                        itemFilters\n                      )\n                    )\n                  )\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'chart' },\n                !_Libs2.default.isObjectEmpty(chartOption) ? _react2.default.createElement(_highchartsReactOfficial2.default, { highcharts: _highcharts2.default, allowChartUpdate: true, immutable: true, options: chartOption }) : \"\",\n                _react2.default.createElement(\n                  'div',\n                  { className: 'time-filter' },\n                  itemTimes\n                )\n              ),\n              !_Libs2.default.isBlank(curItem.lastUpdated) ? _react2.default.createElement(\n                'div',\n                { className: 'update-time' },\n                _react2.default.createElement(\n                  'p',\n                  null,\n                  'Last updated on ',\n                  curItem.lastUpdated\n                )\n              ) : \"\"\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xl-3 col-lg-3 col-md-3' },\n            _react2.default.createElement(\n              'div',\n              { className: 'block-right' },\n              _react2.default.createElement(\n                'ul',\n                { className: 'row' },\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-12' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'row' },\n                      _react2.default.createElement(\n                        'div',\n                        { className: 'col-xl-6 col-lg-6 col-md-6' },\n                        _react2.default.createElement(\n                          'div',\n                          { className: 'temperature' },\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'icon' },\n                            _react2.default.createElement('img', { src: '/assets/images/arranged.png' })\n                          ),\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'title' },\n                            'TEMPERATURE'\n                          ),\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'content' },\n                            !_Libs2.default.isObjectEmpty(weather) && !_Libs2.default.isBlank(weather.main) ? weather.main.temp : 0,\n                            _react2.default.createElement(\n                              'var',\n                              { 'class': 'sup' },\n                              'o'\n                            )\n                          )\n                        )\n                      ),\n                      _react2.default.createElement(\n                        'div',\n                        { className: 'col-xl-6 col-lg-6 col-md-6' },\n                        _react2.default.createElement(\n                          'div',\n                          { className: 'temperature' },\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'icon' },\n                            _react2.default.createElement('img', { src: '/assets/images/humidity.png' })\n                          ),\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'title' },\n                            'HUMIDITY'\n                          ),\n                          _react2.default.createElement(\n                            'p',\n                            { className: 'content' },\n                            !_Libs2.default.isObjectEmpty(weather) && !_Libs2.default.isBlank(weather.main) ? weather.main.humidity : 0,\n                            '%'\n                          )\n                        )\n                      )\n                    )\n                  )\n                ),\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-12' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item item-sub tree' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'plan-item' },\n                      _react2.default.createElement('img', { src: '/assets/images/tree.png' })\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'value' },\n                      curItem.total_tree\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'label' },\n                      'Equivalent Trees Planted'\n                    )\n                  )\n                ),\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-12' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item item-sub factory' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'plan-item' },\n                      _react2.default.createElement('img', { src: '/assets/images/factory.png' })\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'value' },\n                      curItem.total_co2\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'label' },\n                      'Tons of CO2 Avoided'\n                    )\n                  )\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'block-right two' },\n              _react2.default.createElement(\n                'ul',\n                { className: 'row' },\n                _react2.default.createElement(\n                  'li',\n                  { className: 'col-xl-12' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'item' },\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'dc' },\n                      'PV System Size (kW-DC): ',\n                      _react2.default.createElement(\n                        'strong',\n                        null,\n                        curItem.dc_capacity,\n                        ' kWp'\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'p',\n                      { className: 'dc' },\n                      'PV Nameplate (kW-AC): ',\n                      _react2.default.createElement(\n                        'strong',\n                        null,\n                        curItem.ac_capacity,\n                        ' kW'\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = __webpack_require__(/*! react */ \"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Libs = __webpack_require__(/*! ../../../utils/Libs */ \"aKSJ\");\n\nvar _Libs2 = _interopRequireDefault(_Libs);\n\nvar _highcharts = __webpack_require__(/*! highcharts */ \"6n/F\");\n\nvar _highcharts2 = _interopRequireDefault(_highcharts);\n\nvar _highchartsReactOfficial = __webpack_require__(/*! highcharts-react-official */ \"lVxW\");\n\nvar _highchartsReactOfficial2 = _interopRequireDefault(_highchartsReactOfficial);\n\nvar _exporting = __webpack_require__(/*! highcharts/modules/exporting */ \"AxlJ\");\n\nvar _exporting2 = _interopRequireDefault(_exporting);\n\nvar _histogramBellcurve = __webpack_require__(/*! highcharts/modules/histogram-bellcurve */ \"haik\");\n\nvar _histogramBellcurve2 = _interopRequireDefault(_histogramBellcurve);\n\nvar _ListSitePopup = __webpack_require__(/*! ./listSite/ListSitePopup */ \"2cwB\");\n\nvar _ListSitePopup2 = _interopRequireDefault(_ListSitePopup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _histogramBellcurve2.default)(_highcharts2.default);\nif ((typeof _highcharts2.default === 'undefined' ? 'undefined' : _typeof(_highcharts2.default)) === 'object') {\n  (0, _exporting2.default)(_highcharts2.default);\n}\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/CustomerView.jsx?");

/***/ }),

/***/ "RPlf":
/*!*********************************************************!*\
  !*** ./src/ui/desktop/customerView/listSite/RowItem.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RowItem = function (_Component) {\n    _inherits(RowItem, _Component);\n\n    function RowItem(props) {\n        _classCallCheck(this, RowItem);\n\n        var _this = _possibleConstructorReturn(this, (RowItem.__proto__ || Object.getPrototypeOf(RowItem)).call(this, props));\n\n        _this.onItemClickView = function () {\n            if (!_this.props.onItemClickView || typeof _this.props.onItemClickView !== 'function') return;\n            _this.props.onItemClickView(_this.props.index);\n        };\n\n        return _this;\n    }\n\n    /**\r\n     * @description Item click event delete\r\n     * @author long.pham 2020-12-08\r\n     */\n\n\n    _createClass(RowItem, [{\n        key: 'render',\n        value: function render() {\n            var item = this.props.dataItem;\n            var curItem = this.props.curItem;\n            return _react2.default.createElement(\n                'li',\n                { key: this.props.index, className: 'col-md-12' },\n                _react2.default.createElement(\n                    'div',\n                    { onClick: this.onItemClickView.bind(this), className: curItem.id == item.id ? \"item active\" : \"item\" },\n                    _react2.default.createElement('img', { src: '/assets/images/site_icon.png', alt: item.name }),\n                    _react2.default.createElement(\n                        'h2',\n                        null,\n                        item.name\n                    ),\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        item.address_full\n                    )\n                )\n            );\n        }\n    }]);\n\n    return RowItem;\n}(_react.Component);\n\nexports.default = RowItem;\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/listSite/RowItem.js?");

/***/ }),

/***/ "ysJ3":
/*!****************************************************************!*\
  !*** ./src/ui/desktop/customerView/listSite/ListSitePopup.jsx ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var _this = this;\n\n  var _state = this.state,\n      curItem = _state.curItem,\n      dataList = _state.dataList;\n\n\n  var rowItems = null;\n  if (_Libs2.default.isArrayData(dataList)) {\n    rowItems = dataList.map(function (item, index) {\n      return _react2.default.createElement(_RowItem2.default, {\n        key: 'row_item_' + index,\n        index: index,\n        dataItem: item,\n        curItem: curItem,\n        onItemClickView: _this.onItemClickView\n      });\n    });\n  }\n\n  return _react2.default.createElement(\n    _react2.default.Fragment,\n    null,\n    _react2.default.createElement(\n      _reactBootstrap4Modal2.default,\n      { visible: true, className: 'modal-list-site', dialogClassName: 'modal-dialog modal-lg modal-dialog-scrollable' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'h5',\n          { className: 'modal-title' },\n          'Sites'\n        ),\n        _react2.default.createElement(\n          'button',\n          { type: 'button', onClick: this.props.onCloseListSitePopup.bind(this), className: 'bootbox-close-button close', 'data-dismiss': 'modal', 'aria-hidden': 'true' },\n          '\\xD7'\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'content' },\n          _react2.default.createElement(\n            'ul',\n            { className: 'row' },\n            rowItems\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = __webpack_require__(/*! react */ \"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap4Modal = __webpack_require__(/*! react-bootstrap4-modal */ \"pBlM\");\n\nvar _reactBootstrap4Modal2 = _interopRequireDefault(_reactBootstrap4Modal);\n\nvar _RowItem = __webpack_require__(/*! ./RowItem */ \"RPlf\");\n\nvar _RowItem2 = _interopRequireDefault(_RowItem);\n\nvar _Libs = __webpack_require__(/*! ../../../../utils/Libs */ \"aKSJ\");\n\nvar _Libs2 = _interopRequireDefault(_Libs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/listSite/ListSitePopup.jsx?");

/***/ }),

/***/ "zQl+":
/*!*******************************************************!*\
  !*** ./src/ui/desktop/customerView/CustomerView.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/ui/desktop/customerView/CustomerView.scss?");

/***/ })

}]);